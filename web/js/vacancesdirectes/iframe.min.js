function consoleLog(a){window.console&&console.log&&console.log(a)}function parentExists(){return parent.location==window.location?!1:!0}function resize_myframe(){var a=$("body").height();a+=70,window.parent.document.getElementById("frameResalys").style.height=a+"px"}function addLinkBlock(){$(".linkParent").each(function(){var a=$(this).find(".linkBlock"),b=a.attr("onclick");b&&$(this).attr("onclick",b),a.removeAttr("onclick"),$(this).css({cursor:"pointer"}).click(function(b){var c=b;if(b||(c=window.event),c&&c.target!=a[0]){var d=a.attr("href"),e=a.attr("target")?a.attr("target"):"_self";switch(e){case"_blank":window.open(d,"");break;case"_parent":parent.location.href=d;break;case"_top":top.location.href=d;break;case"_self":document.location.href=d;break;default:e.location.href=d}}})})}function consoleLog(a){window.console&&console.log&&console.log(a)}function polyfillPlaceholder(){var a=document.activeElement;$("[placeholder]").focus(function(){""!=$(this).attr("placeholder")&&$(this).val()==$(this).attr("placeholder")&&$(this).val("").removeClass("placeholder")}).blur(function(){""==$(this).attr("placeholder")||""!=$(this).val()&&$(this).val()!=$(this).attr("placeholder")||$(this).val($(this).attr("placeholder")).addClass("placeholder")}),$("[placeholder]").blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")})}),$(a).focus()}$(function(){parentExists()&&resize_myframe(),$(".linkParent").length>0&&addLinkBlock(),$(".proposalDescriptionDetailsLink").hover(function(){var a=$(this).offset();$(this).parent().next(".proposalDescriptionDetailsPopUp").css({top:a.top}).fadeIn(),$(this).parents(".aProposalBlock").siblings(".aProposalBlock").stop().animate({opacity:.2},250)},function(){$(this).parent().next(".proposalDescriptionDetailsPopUp").fadeOut(),$(this).parents(".aProposalBlock").siblings(".aProposalBlock").stop().animate({opacity:1},250)})}),head.ready(function(){$(".ce").length&&$(".selectedTxt").click(function(){if(!$(this).parent().hasClass("newListSelFocus")){var a=$(this).parent().width();$(this).next(".SSContainerDivWrapper").show();var b=$(this).next(".SSContainerDivWrapper").width();if($(this).next(".SSContainerDivWrapper").hasClass("maxHeight")&&!$(this).next(".SSContainerDivWrapper").hasClass("minWidth")&&b>=a)$(this).next(".SSContainerDivWrapper").css({minWidth:b+33}),$(this).next(".SSContainerDivWrapper").addClass("minWidth");else if($(this).next(".SSContainerDivWrapper").hasClass("minWidth"))return!1}})}),$(function(){Modernizr.input.placeholder||polyfillPlaceholder(),$(".popinIframe").click(function(a){if(a.preventDefault(),$(this).attr("href").length){var b=$(this).attr("href");parent.openPopinIframe(b)}}),$(".popinInline").click(function(a){if(a.preventDefault(),$(this).parent(".roomType").attr("data-type")){var b=$(this).parent(".roomType").attr("data-type");parent.openPopinInline(b)}}),$("#homePage .aProposalBlock").length&&$("#homePage .aProposalBlock:nth-child(5n)").addClass("aProposalBlockLast"),$(".proposalDescriptionContent .description select.control_select option").each(function(){$(this).text($(this).val()+" semaines")}),$(".sortContener").find("#search_form_sort_string").sSelect({ddMaxHeight:"300px",containerClass:"sortBy"}),$(".sortContener").find("#search_form_max_results").sSelect({ddMaxHeight:"300px",containerClass:"sortNb"})}),function(a){a("html").addClass("stylish-select"),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),a.fn.extend({getSetSSValue:function(b){return b?(a(this).val(b).change(),this):a(this).find(":selected").val()},resetSS:function(){var b=a(this).data("ssOpts");$this=a(this),$this.next().remove(),$this.unbind(".sSelect").sSelect(b)}}),a.fn.sSelect=function(b){return this.each(function(){function c(b,c){var d=a(b).text(),e=a(b).val(),f=a(b).is(":disabled");f||a(b).parents().is(":disabled")||y.push(d.charAt(0).toLowerCase()),c.append(a("<li><a"+(f?' class="newListItemDisabled"':"")+' href="JavaScript:void(0);">'+d+"</a></li>").data({key:e,selected:a(b).is(":selected")}))}function d(){var b=t.offset().top,c=a(window).height(),d=a(window).scrollTop();B>parseInt(q.ddMaxHeight)&&(B=parseInt(q.ddMaxHeight)),b-=d,b+B>=c?(v.css({height:B}),u.css({top:"-"+B+"px",height:B}),r.onTop=!0):(v.css({height:B}),u.css({top:C+"px",height:B}),r.onTop=!1)}function e(){t.css("position","relative")}function f(){t.css({position:"static"})}function g(a,b){1==a&&(x=w,r.change()),1==b&&(w=x,h(w)),u.hide(),f()}function h(a,b){if(-1==a)s.text(q.defaultText),o.removeClass("hiLite");else{o.removeClass("hiLite").eq(a).addClass("hiLite");var c=o.eq(a).text(),d=o.eq(a).parent().data("key");try{r.val(d)}catch(e){r[0].selectedIndex=a}if(s.text(c),1==b&&(x=a,r.change()),u.is(":visible"))try{o.eq(a).focus()}catch(e){}}}function i(b){a(b).unbind("keydown.sSelect").bind("keydown.sSelect",function(a){var b=a.which;switch(A=!0,b){case 40:case 39:return j(),!1;case 38:case 37:return k(),!1;case 33:case 36:return l(),!1;case 34:case 35:return m(),!1;case 13:case 27:return g(!0),!1;case 9:return g(!0),n(),!1}keyPressed=String.fromCharCode(b).toLowerCase();var c=y.indexOf(keyPressed);return"undefined"!=typeof c?(++w,w=y.indexOf(keyPressed,w),(-1==w||null==w||z!=keyPressed)&&(w=y.indexOf(keyPressed)),h(w),z=keyPressed,!1):void 0})}function j(){D-1>w&&(++w,h(w))}function k(){w>0&&(--w,h(w))}function l(){w=0,h(w)}function m(){w=D-1,h(w)}function n(){var b=a("body").find("button,input,textarea,select"),c=b.index(r);return c>-1&&c+1<b.length&&b.eq(c+1).focus(),!1}var o,p={defaultText:"Please select",animationSpeed:0,ddMaxHeight:"",containerClass:""},q=a.extend(p,b),r=a(this),s=a('<div class="selectedTxt"></div>'),t=a('<div class="newListSelected '+q.containerClass+(r.is(":disabled")?" newListDisabled":"")+'"></div>'),u=a('<div class="SSContainerDivWrapper" style="visibility:hidden;"></div>'),v=a('<ul class="newList"></ul>'),w=-1,x=-1,y=[],z=!1,A=!1;if(a(this).data("ssOpts",b),t.insertAfter(r),t.attr("tabindex",r.attr("tabindex")||"0"),s.prependTo(t),v.appendTo(t),v.wrap(u),u=v.parent(),r.hide(),!r.is(":disabled")){s.data("ssReRender",!s.is(":visible")),r.children().each(function(){if(a(this).is("option"))c(this,v);else{var b=a(this).attr("label"),d=a('<li class="newListOptionTitle '+(a(this).is(":disabled")?"newListOptionDisabled":"")+'">'+b+"</li>"),e=a("<ul></ul>");d.appendTo(v),e.appendTo(d),a(this).children().each(function(){c(this,e)})}}),o=v.find("li a:not(.newListItemDisabled)").not(function(){return a(this).parents().hasClass("newListOptionDisabled")}),o.each(function(b){a(this).parent().data("selected")&&(q.defaultText=a(this).html(),w=x=b)});var B=v.height(),C=t.height(),D=o.length;-1!=w?h(w):s.text(q.defaultText),d(),a(window).bind("resize.sSelect scroll.sSelect",d),s.bind("click.sSelect",function(b){b.stopPropagation(),a(this).data("ssReRender")&&(B=v.height("").height(),u.height(""),C=t.height(),a(this).data("ssReRender",!1),d()),a(".SSContainerDivWrapper").not(a(this).next()).hide().parent().css("position","static").removeClass("newListSelFocus"),u.toggle(),e(),-1==w&&(w=0);try{o.eq(w).focus()}catch(c){}}),o.bind("click.sSelect",function(b){var c=a(b.target);w=o.index(c),A=!0,h(w,!0),g()}),o.bind("mouseenter.sSelect",function(b){var c=a(b.target);c.addClass("newListHover")}).bind("mouseleave.sSelect",function(b){var c=a(b.target);c.removeClass("newListHover")}),r.bind("change.sSelect",function(b){var c=a(b.target);if(1==A)return A=!1,!1;var d=c.find(":selected");w=c.find("option").index(d),h(w)}),t.bind("click.sSelect",function(a){a.stopPropagation(),i(this)}),t.bind("focus.sSelect",function(){a(this).addClass("newListSelFocus"),i(this)}),t.bind("blur.sSelect",function(){a(this).removeClass("newListSelFocus")}),a(document).bind("click.sSelect",function(){t.removeClass("newListSelFocus"),u.is(":visible")?g(!1,!0):g(!1)}),s.bind("mouseenter.sSelect",function(b){var c=a(b.target);c.parent().addClass("newListSelHover")}).bind("mouseleave.sSelect",function(b){var c=a(b.target);c.parent().removeClass("newListSelHover")}),u.css({left:"0",display:"none",visibility:"visible"})}})}}(jQuery);