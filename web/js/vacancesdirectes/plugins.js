/* Project: vd - Date: 20129012 - Author: C2iS.fr > NCH-LGU */
/* JS PLUGINS */

// Gestion du console.log (Ã©vite le bug sur ie si la console n'est pas ouverte)
function consoleLog (data) {
    if(window.console && console.log )
        console.log(data);
}


function polyfillPlaceholder(){
    var active = document.activeElement;
    $('[placeholder]').focus(function () {
        if ($(this).attr('placeholder') != '' && $(this).val() == $(this).attr('placeholder')) {
            $(this).val('').removeClass('placeholder');
        }
    }).blur(function () {
            if ($(this).attr('placeholder') != '' && ($(this).val() == '' || $(this).val() == $(this).attr('placeholder'))) {
                $(this).val($(this).attr('placeholder')).addClass('placeholder');
            }
        });
    $('[placeholder]').blur();
    $('[placeholder]').parents('form').submit(function() {
        $(this).find('[placeholder]').each(function() {
            if ($(this).val() == $(this).attr('placeholder')) {
                $(this).val('');
            }
        })
    });
    $(active).focus();
}

// Gestion du click sur le parent
function addLinkBlock(){
    $('.linkParent').each( function( ) {
        var oElem = $(this).find('.linkBlock'),
            sOnClick = oElem.attr('onclick');
        if(sOnClick)
            $(this).attr('onclick',sOnClick);
        oElem.removeAttr('onclick');

        $(this).css({cursor:'pointer'}).click(function(e) {
            var event = e;
            if (!e)
                event = window.event;
            if (event && event.target != oElem[0]) {
                var sHref = oElem.attr('href'),
                    sTarget = oElem.attr('target')?oElem.attr('target'):'_self';
                //consoleLog(sHref);
                switch (sTarget) {
                    case "_blank":
                        window.open(sHref, '');
                        break;
                    case "_parent":
                        parent.location.href = sHref;
                        break;
                    case "_top":
                        top.location.href = sHref;
                        break;
                    case "_self":
                        document.location.href = sHref;
                        break;
                    default:
                        sTarget.location.href = sHref;
                        break;
                }
            }
        });

    });
}

/*
 *	jQuery carouFredSel 6.0.3 - Copyright (c) 2012 Fred Heusschen - www.frebsite.nl
 *	Dual licensed under the MIT and GPL licenses
 */
(function($){function sc_setScroll(a,b){return{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a){if(is_object(a.pre)){sc_startScroll(a.pre)}for(var b=0,c=a.anims.length;b<c;b++){var d=a.anims[b];if(!d){continue}if(d[3]){d[0].stop()}d[0].animate(d[1],{complete:d[2],duration:a.duration,easing:a.easing})}if(is_object(a.post)){sc_startScroll(a.post)}}function sc_stopScroll(a,b){if(!is_boolean(b)){b=true}if(is_object(a.pre)){sc_stopScroll(a.pre,b)}for(var c=0,d=a.anims.length;c<d;c++){var e=a.anims[c];e[0].stop(true);if(b){e[0].css(e[1]);if(is_function(e[2])){e[2]()}}}if(is_object(a.post)){sc_stopScroll(a.post,b)}}function sc_afterScroll(a,b,c){if(b){b.remove()}switch(c.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":a.css("filter","");break}}function sc_fireCallbacks(a,b,c,d,e){if(b[c]){b[c].call(a,d)}if(e[c].length){for(var f=0,g=e[c].length;f<g;f++){e[c][f].call(a,d)}}return[]}function sc_fireQueue(a,b,c){if(b.length){a.trigger(cf_e(b[0][0],c),b[0][1]);b.shift()}return b}function sc_hideHiddenItems(a){a.each(function(){var a=$(this);a.data("_cfs_isHidden",a.is(":hidden")).hide()})}function sc_showHiddenItems(a){if(a){a.each(function(){var a=$(this);if(!a.data("_cfs_isHidden")){a.show()}})}}function sc_clearTimers(a){if(a.auto){clearTimeout(a.auto)}if(a.progress){clearInterval(a.progress)}return a}function sc_mapCallbackArguments(a,b,c,d,e,f,g){return{width:g.width,height:g.height,items:{old:a,skipped:b,"new":c,visible:c},scroll:{items:d,direction:e,duration:f}}}function sc_getDuration(a,b,c,d){var e=a.duration;if(a.fx=="none"){return 0}if(e=="auto"){e=b.scroll.duration/b.scroll.items*c}else if(e<10){e=d/e}if(e<1){return 0}if(a.fx=="fade"){e=e/2}return Math.round(e)}function nv_showNavi(a,b,c){var d=is_number(a.items.minimum)?a.items.minimum:a.items.visible+1;if(b=="show"||b=="hide"){var e=b}else if(d>b){debug(c,"Not enough items ("+b+" total, "+d+" needed): Hiding navigation.");var e="hide"}else{var e="show"}var f=e=="show"?"removeClass":"addClass",g=cf_c("hidden",c);if(a.auto.button){a.auto.button[e]()[f](g)}if(a.prev.button){a.prev.button[e]()[f](g)}if(a.next.button){a.next.button[e]()[f](g)}if(a.pagination.container){a.pagination.container[e]()[f](g)}}function nv_enableNavi(a,b,c){if(a.circular||a.infinite)return;var d=b=="removeClass"||b=="addClass"?b:false,e=cf_c("disabled",c);if(a.auto.button&&d){a.auto.button[d](e)}if(a.prev.button){var f=d||b==0?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){var f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}function go_getObject(a,b){if(is_function(b)){b=b.call(a)}else if(is_undefined(b)){b={}}return b}function go_getItemsObject(a,b){b=go_getObject(a,b);if(is_number(b)){b={visible:b}}else if(b=="variable"){b={visible:b,width:b,height:b}}else if(!is_object(b)){b={}}return b}function go_getScrollObject(a,b){b=go_getObject(a,b);if(is_number(b)){if(b<=50){b={items:b}}else{b={duration:b}}}else if(is_string(b)){b={easing:b}}else if(!is_object(b)){b={}}return b}function go_getNaviObject(a,b){b=go_getObject(a,b);if(is_string(b)){var c=cf_getKeyCode(b);if(c==-1){b=$(b)}else{b=c}}return b}function go_getAutoObject(a,b){b=go_getNaviObject(a,b);if(is_jquery(b)){b={button:b}}else if(is_boolean(b)){b={play:b}}else if(is_number(b)){b={timeoutDuration:b}}if(b.progress){if(is_string(b.progress)||is_jquery(b.progress)){b.progress={bar:b.progress}}}return b}function go_complementAutoObject(a,b){if(is_function(b.button)){b.button=b.button.call(a)}if(is_string(b.button)){b.button=$(b.button)}if(!is_boolean(b.play)){b.play=true}if(!is_number(b.delay)){b.delay=0}if(is_undefined(b.pauseOnEvent)){b.pauseOnEvent=true}if(!is_boolean(b.pauseOnResize)){b.pauseOnResize=true}if(!is_number(b.timeoutDuration)){b.timeoutDuration=b.duration<10?2500:b.duration*5}if(b.progress){if(is_function(b.progress.bar)){b.progress.bar=b.progress.bar.call(a)}if(is_string(b.progress.bar)){b.progress.bar=$(b.progress.bar)}if(b.progress.bar){if(!is_function(b.progress.updater)){b.progress.updater=$.fn.carouFredSel.progressbarUpdater}if(!is_number(b.progress.interval)){b.progress.interval=50}}else{b.progress=false}}return b}function go_getPrevNextObject(a,b){b=go_getNaviObject(a,b);if(is_jquery(b)){b={button:b}}else if(is_number(b)){b={key:b}}return b}function go_complementPrevNextObject(a,b){if(is_function(b.button)){b.button=b.button.call(a)}if(is_string(b.button)){b.button=$(b.button)}if(is_string(b.key)){b.key=cf_getKeyCode(b.key)}return b}function go_getPaginationObject(a,b){b=go_getNaviObject(a,b);if(is_jquery(b)){b={container:b}}else if(is_boolean(b)){b={keys:b}}return b}function go_complementPaginationObject(a,b){if(is_function(b.container)){b.container=b.container.call(a)}if(is_string(b.container)){b.container=$(b.container)}if(!is_number(b.items)){b.items=false}if(!is_boolean(b.keys)){b.keys=false}if(!is_function(b.anchorBuilder)&&!is_false(b.anchorBuilder)){b.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder}if(!is_number(b.deviation)){b.deviation=0}return b}function go_getSwipeObject(a,b){if(is_function(b)){b=b.call(a)}if(is_undefined(b)){b={onTouch:false}}if(is_true(b)){b={onTouch:b}}else if(is_number(b)){b={items:b}}return b}function go_complementSwipeObject(a,b){if(!is_boolean(b.onTouch)){b.onTouch=true}if(!is_boolean(b.onMouse)){b.onMouse=false}if(!is_object(b.options)){b.options={}}if(!is_boolean(b.options.triggerOnTouchEnd)){b.options.triggerOnTouchEnd=false}return b}function go_getMousewheelObject(a,b){if(is_function(b)){b=b.call(a)}if(is_true(b)){b={}}else if(is_number(b)){b={items:b}}else if(is_undefined(b)){b=false}return b}function go_complementMousewheelObject(a,b){return b}function gn_getItemIndex(a,b,c,d,e){if(is_string(a)){a=$(a,e)}if(is_object(a)){a=$(a,e)}if(is_jquery(a)){a=e.children().index(a);if(!is_boolean(c)){c=false}}else{if(!is_boolean(c)){c=true}}if(!is_number(a)){a=0}if(!is_number(b)){b=0}if(c){a+=d.first}a+=b;if(d.total>0){while(a>=d.total){a-=d.total}while(a<0){a+=d.total}}return a}function gn_getVisibleItemsPrev(a,b,c){var d=0,e=0;for(var f=c;f>=0;f--){var g=a.eq(f);d+=g.is(":visible")?g[b.d["outerWidth"]](true):0;if(d>b.maxDimension){return e}if(f==0){f=a.length}e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){var e=0,f=0;for(var g=d,h=a.length;g>=0;g--){f++;if(f==h){return f}var i=a.eq(g);if(i.is(b)){e++;if(e==c){return f}}if(g==0){g=h}}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){var d=0,e=0;for(var f=c,g=a.length-1;f<=g;f++){var h=a.eq(f);d+=h.is(":visible")?h[b.d["outerWidth"]](true):0;if(d>b.maxDimension){return e}e++;if(e==g+1){return e}if(f==g){f=-1}}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=gn_getVisibleItemsNext(a,b,c);if(!b.circular){if(c+e>d){e=d-c}}return e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d,e){var f=0,g=0;for(var h=d,i=a.length-1;h<=i;h++){g++;if(g>=i){return g}var j=a.eq(h);if(j.is(b)){f++;if(f==c){return g}}if(h==i){h=-1}}}function gi_getCurrentItems(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_storeMargin(a,b,c){if(b.usePadding){if(!is_string(c)){c="_cfs_origCssMargin"}a.each(function(){var a=$(this),e=parseInt(a.css(b.d["marginRight"]),10);if(!is_number(e)){e=0}a.data(c,e)})}}function sz_resetMargin(a,b,c){if(b.usePadding){var d=is_boolean(c)?c:false;if(!is_number(c)){c=0}sz_storeMargin(a,b,"_cfs_tempCssMargin");a.each(function(){var a=$(this);a.css(b.d["marginRight"],d?a.data("_cfs_tempCssMargin"):c+a.data("_cfs_origCssMargin"))})}}function sz_storeSizes(a,b){if(b.responsive){a.each(function(){var a=$(this),b=in_mapCss(a,["width","height"]);a.data("_cfs_origCssSizes",b)})}}function sz_setResponsiveSizes(a,b){var c=a.items.visible,d=a.items[a.d["width"]],e=a[a.d["height"]],f=is_percentage(e);b.each(function(){var b=$(this),c=d-ms_getPaddingBorderMargin(b,a,"Width");b[a.d["width"]](c);if(f){b[a.d["height"]](ms_getPercentage(c,e))}})}function sz_setSizes(a,b){var c=a.parent(),d=a.children(),e=gi_getCurrentItems(d,b),f=cf_mapWrapperSizes(ms_getSizes(e,b,true),b,false);c.css(f);if(b.usePadding){var g=b.padding,h=g[b.d[1]];if(b.align&&h<0){h=0}var i=e.last();i.css(b.d["marginRight"],i.data("_cfs_origCssMargin")+h);a.css(b.d["top"],g[b.d[0]]);a.css(b.d["left"],g[b.d[3]])}a.css(b.d["width"],f[b.d["width"]]+ms_getTotalSize(d,b,"width")*2);a.css(b.d["height"],ms_getLargestSize(d,b,"height"));return f}function ms_getSizes(a,b,c){return[ms_getTotalSize(a,b,"width",c),ms_getLargestSize(a,b,"height",c)]}function ms_getLargestSize(a,b,c,d){if(!is_boolean(d)){d=false}if(is_number(b[b.d[c]])&&d){return b[b.d[c]]}if(is_number(b.items[b.d[c]])){return b.items[b.d[c]]}c=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(a,b,c)}function ms_getTrueLargestSize(a,b,c){var d=0;for(var e=0,f=a.length;e<f;e++){var g=a.eq(e);var h=g.is(":visible")?g[b.d[c]](true):0;if(d<h){d=h}}return d}function ms_getTotalSize(a,b,c,d){if(!is_boolean(d)){d=false}if(is_number(b[b.d[c]])&&d){return b[b.d[c]]}if(is_number(b.items[b.d[c]])){return b.items[b.d[c]]*a.length}var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",f=0;for(var g=0,h=a.length;g<h;g++){var i=a.eq(g);f+=i.is(":visible")?i[b.d[e]](true):0}return f}function ms_getParentSize(a,b,c){var d=a.is(":visible");if(d){a.hide()}var e=a.parent()[b.d[c]]();if(d){a.show()}return e}function ms_getMaxDimension(a,b){return is_number(a[a.d["width"]])?a[a.d["width"]]:b}function ms_hasVariableSizes(a,b,c){var d=false,e=false;for(var f=0,g=a.length;f<g;f++){var h=a.eq(f);var i=h.is(":visible")?h[b.d[c]](true):0;if(d===false){d=i}else if(d!=i){e=true}if(d==0){e=true}}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](true)-a[b.d[c.toLowerCase()]]()}function ms_getPercentage(a,b){if(is_percentage(b)){b=parseInt(b.slice(0,-1),10);if(!is_number(b)){return a}a*=b/100}return a}function cf_e(a,b,c,d,e){if(!is_boolean(c)){c=true}if(!is_boolean(d)){d=true}if(!is_boolean(e)){e=false}if(c){a=b.events.prefix+a}if(d){a=a+"."+b.events.namespace}if(d&&e){a+=b.serialNumber}return a}function cf_c(a,b){return is_string(b.classnames[a])?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){if(!is_boolean(c)){c=true}var d=b.usePadding&&c?b.padding:[0,0,0,0];var e={};e[b.d["width"]]=a[0]+d[1]+d[3];e[b.d["height"]]=a[1]+d[0]+d[2];return e}function cf_sortParams(a,b){var c=[];for(var d=0,e=a.length;d<e;d++){for(var f=0,g=b.length;f<g;f++){if(b[f].indexOf(typeof a[d])>-1&&is_undefined(c[f])){c[f]=a[d];break}}}return c}function cf_getPadding(a){if(is_undefined(a)){return[0,0,0,0]}if(is_number(a)){return[a,a,a,a]}if(is_string(a)){a=a.split("px").join("").split("em").join("").split(" ")}if(!is_array(a)){return[0,0,0,0]}for(var b=0;b<4;b++){a[b]=parseInt(a[b],10)}switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=is_number(b[b.d["width"]])?Math.ceil(b[b.d["width"]]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case"left":return[0,c];case"right":return[c,0];case"center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getDimensions(a){var b=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var c=b[0].length,d=a.direction=="right"||a.direction=="left"?0:1;var e={};for(var f=0;f<c;f++){e[b[0][f]]=b[d][f]}return e}function cf_getAdjust(a,b,c,d){var e=a;if(is_function(c)){e=c.call(d,e)}else if(is_string(c)){var f=c.split("+"),g=c.split("-");if(g.length>f.length){var h=true,i=g[0],j=g[1]}else{var h=false,i=f[0],j=f[1]}switch(i){case"even":e=a%2==1?a-1:a;break;case"odd":e=a%2==0?a-1:a;break;default:e=a;break}j=parseInt(j,10);if(is_number(j)){if(h){j=-j}e+=j}}if(!is_number(e)||e<1){e=1}return e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){if(is_number(b.min)&&a<b.min){a=b.min}if(is_number(b.max)&&a>b.max){a=b.max}if(a<1){a=1}return a}function cf_getSynchArr(a){if(!is_array(a)){a=[[a]]}if(!is_array(a[0])){a=[a]}for(var b=0,c=a.length;b<c;b++){if(is_string(a[b][0])){a[b][0]=$(a[b][0])}if(!is_boolean(a[b][1])){a[b][1]=true}if(!is_boolean(a[b][2])){a[b][2]=true}if(!is_number(a[b][3])){a[b][3]=0}}return a}function cf_getKeyCode(a){if(a=="right"){return 39}if(a=="left"){return 37}if(a=="up"){return 38}if(a=="down"){return 40}return-1}function cf_setCookie(a,b,c){if(a){var d=b.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(a,d)}}function cf_getCookie(a){var b=$.fn.carouFredSel.cookie.get(a);return b==""?0:b}function in_mapCss(a,b){var c={},d;for(var e=0,f=b.length;e<f;e++){d=b[e];c[d]=a.css(d)}return c}function in_complementItems(a,b,c,d){if(!is_object(a.visibleConf)){a.visibleConf={}}if(!is_object(a.sizesConf)){a.sizesConf={}}if(a.start==0&&is_number(d)){a.start=d}if(is_object(a.visible)){a.visibleConf.min=a.visible.min;a.visibleConf.max=a.visible.max;a.visible=false}else if(is_string(a.visible)){if(a.visible=="variable"){a.visibleConf.variable=true}else{a.visibleConf.adjust=a.visible}a.visible=false}else if(is_function(a.visible)){a.visibleConf.adjust=a.visible;a.visible=false}if(!is_string(a.filter)){a.filter=c.filter(":hidden").length>0?":visible":"*"}if(!a[b.d["width"]]){if(b.responsive){debug(true,"Set a "+b.d["width"]+" for the items!");a[b.d["width"]]=ms_getTrueLargestSize(c,b,"outerWidth")}else{a[b.d["width"]]=ms_hasVariableSizes(c,b,"outerWidth")?"variable":c[b.d["outerWidth"]](true)}}if(!a[b.d["height"]]){a[b.d["height"]]=ms_hasVariableSizes(c,b,"outerHeight")?"variable":c[b.d["outerHeight"]](true)}a.sizesConf.width=a.width;a.sizesConf.height=a.height;return a}function in_complementVisibleItems(a,b){if(a.items[a.d["width"]]=="variable"){a.items.visibleConf.variable=true}if(!a.items.visibleConf.variable){if(is_number(a[a.d["width"]])){a.items.visible=Math.floor(a[a.d["width"]]/a.items[a.d["width"]])}else{a.items.visible=Math.floor(b/a.items[a.d["width"]]);a[a.d["width"]]=a.items.visible*a.items[a.d["width"]];if(!a.items.visibleConf.adjust){a.align=false}}if(a.items.visible=="Infinity"||a.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');a.items.visibleConf.variable=true}}return a}function in_complementPrimarySize(a,b,c){if(a=="auto"){a=ms_getTrueLargestSize(c,b,"outerWidth")}return a}function in_complementSecondarySize(a,b,c){if(a=="auto"){a=ms_getTrueLargestSize(c,b,"outerHeight")}if(!a){a=b.items[b.d["height"]]}return a}function in_getAlignPadding(a,b){var c=cf_getAlignPadding(gi_getCurrentItems(b,a),a);a.padding[a.d[1]]=c[1];a.padding[a.d[3]]=c[0];return a}function in_getResponsiveValues(a,b,c){var d=cf_getItemAdjustMinMax(Math.ceil(a[a.d["width"]]/a.items[a.d["width"]]),a.items.visibleConf);if(d>b.length){d=b.length}var e=Math.floor(a[a.d["width"]]/d);a.items.visible=d;a.items[a.d["width"]]=e;a[a.d["width"]]=d*e;return a}function bt_pauseOnHoverConfig(a){if(is_string(a)){var b=a.indexOf("immediate")>-1?true:false,c=a.indexOf("resume")>-1?true:false}else{var b=c=false}return[b,c]}function bt_mousesheelNumber(a){return is_number(a)?a:null}function is_null(a){return a===null}function is_undefined(a){return is_null(a)||typeof a=="undefined"||a===""||a==="undefined"}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof Object||typeof a=="object")&&!is_null(a)&&!is_jquery(a)&&!is_array(a)}function is_number(a){return(a instanceof Number||typeof a=="number")&&!isNaN(a)}function is_string(a){return(a instanceof String||typeof a=="string")&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||typeof a=="function"}function is_boolean(a){return a instanceof Boolean||typeof a=="boolean"||is_true(a)||is_false(a)}function is_true(a){return a===true||a==="true"}function is_false(a){return a===false||a==="false"}function is_percentage(a){return is_string(a)&&a.slice(-1)=="%"}function getTime(){return(new Date).getTime()}function deprecated(a,b){debug(true,a+" is DEPRECATED, support for it will be removed. Use "+b+" instead.")}function debug(a,b){if(is_object(a)){var c=" ("+a.selector+")";a=a.debug}else{var c=""}if(!a){return false}if(is_string(b)){b="carouFredSel"+c+": "+b}else{b=["carouFredSel"+c+":",b]}if(window.console&&window.console.log){window.console.log(b)}return false}if($.fn.carouFredSel){return}$.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0],starting_position=false;if($cfs.data("_cfs_isCarousel")){starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",true])}$cfs._cfs_init=function(a,b,c){a=go_getObject($tt0,a);a.items=go_getItemsObject($tt0,a.items);a.scroll=go_getScrollObject($tt0,a.scroll);a.auto=go_getAutoObject($tt0,a.auto);a.prev=go_getPrevNextObject($tt0,a.prev);a.next=go_getPrevNextObject($tt0,a.next);a.pagination=go_getPaginationObject($tt0,a.pagination);a.swipe=go_getSwipeObject($tt0,a.swipe);a.mousewheel=go_getMousewheelObject($tt0,a.mousewheel);if(b){opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,a)}opts=$.extend(true,{},$.fn.carouFredSel.defaults,a);opts.d=cf_getDimensions(opts);crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var d=$cfs.children(),e=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)){opts.cookie="caroufredsel_cookie_"+conf.serialNumber}opts.maxDimension=ms_getMaxDimension(opts,e);opts.items=in_complementItems(opts.items,opts,d,c);opts[opts.d["width"]]=in_complementPrimarySize(opts[opts.d["width"]],opts,d);opts[opts.d["height"]]=in_complementSecondarySize(opts[opts.d["height"]],opts,d);if(opts.responsive){if(!is_percentage(opts[opts.d["width"]])){opts[opts.d["width"]]="100%"}}if(is_percentage(opts[opts.d["width"]])){crsl.upDateOnWindowResize=true;crsl.primarySizePercentage=opts[opts.d["width"]];opts[opts.d["width"]]=ms_getPercentage(e,crsl.primarySizePercentage);if(!opts.items.visible){opts.items.visibleConf.variable=true}}if(opts.responsive){opts.usePadding=false;opts.padding=[0,0,0,0];opts.align=false;opts.items.visibleConf.variable=false}else{if(!opts.items.visible){opts=in_complementVisibleItems(opts,e)}if(!opts[opts.d["width"]]){if(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d["width"]])&&opts.items.filter=="*"){opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];opts.align=false}else{opts[opts.d["width"]]="variable"}}if(is_undefined(opts.align)){opts.align=is_number(opts[opts.d["width"]])?"center":false}if(opts.items.visibleConf.variable){opts.items.visible=gn_getVisibleItemsNext(d,opts,0)}}if(opts.items.filter!="*"&&!opts.items.visibleConf.variable){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(d,opts,0)}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;if(opts.responsive){if(!opts.items.visibleConf.min){opts.items.visibleConf.min=opts.items.visible}if(!opts.items.visibleConf.max){opts.items.visibleConf.max=opts.items.visible}opts=in_getResponsiveValues(opts,d,e)}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top"){opts.align="left"}else if(opts.align=="bottom"){opts.align="right"}switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){opts=in_getAlignPadding(opts,d);opts.usePadding=true}break;default:opts.align=false;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?false:true;break}}if(!is_number(opts.scroll.duration)){opts.scroll.duration=500}if(is_undefined(opts.scroll.items)){opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible}opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);opts.auto=go_complementAutoObject($tt0,opts.auto);opts.prev=go_complementPrevNextObject($tt0,opts.prev);opts.next=go_complementPrevNextObject($tt0,opts.next);opts.pagination=go_complementPaginationObject($tt0,opts.pagination);opts.swipe=go_complementSwipeObject($tt0,opts.swipe);opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel);if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(opts.auto.onPauseStart){opts.auto.onTimeoutStart=opts.auto.onPauseStart;deprecated("auto.onPauseStart","auto.onTimeoutStart")}if(opts.auto.onPausePause){opts.auto.onTimeoutPause=opts.auto.onPausePause;deprecated("auto.onPausePause","auto.onTimeoutPause")}if(opts.auto.onPauseEnd){opts.auto.onTimeoutEnd=opts.auto.onPauseEnd;deprecated("auto.onPauseEnd","auto.onTimeoutEnd")}if(opts.auto.pauseDuration){opts.auto.timeoutDuration=opts.auto.pauseDuration;deprecated("auto.pauseDuration","auto.timeoutDuration")}};$cfs._cfs_build=function(){$cfs.data("_cfs_isCarousel",true);var a=$cfs.children(),b=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),c="relative";switch(b.position){case"absolute":case"fixed":c=b.position;break}$wrp.css(b).css({overflow:"hidden",position:c});$cfs.data("_cfs_origCss",b).css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,zIndex:1,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});sz_storeMargin(a,opts);sz_storeSizes(a,opts);if(opts.responsive){sz_setResponsiveSizes(opts,a)}};$cfs._cfs_bind_events=function(){$cfs._cfs_unbind_events();$cfs.bind(cf_e("stop",conf),function(a,b){a.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),b)}return true});$cfs.bind(cf_e("finish",conf),function(a){a.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(a,b,c){a.stopPropagation();tmrs=sc_clearTimers(tmrs);if(b&&crsl.isScrolling){scrl.isStopped=true;var d=getTime()-scrl.startTime;scrl.duration-=d;if(scrl.pre){scrl.pre.duration-=d}if(scrl.post){scrl.post.duration-=d}sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(c){tmrs.timePassed+=getTime()-tmrs.startTime}}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onTimeoutPause){var e=opts.auto.timeoutDuration-tmrs.timePassed,f=100-Math.ceil(e*100/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,f,e)}return true});$cfs.bind(cf_e("play",conf),function(a,b,c,d){a.stopPropagation();tmrs=sc_clearTimers(tmrs);var e=[b,c,d],f=["string","number","boolean"],g=cf_sortParams(e,f);b=g[0];c=g[1];d=g[2];if(b!="prev"&&b!="next"){b=crsl.direction}if(!is_number(c)){c=0}if(!is_boolean(d)){d=false}if(d){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){a.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var h=opts.auto.timeoutDuration+c;dur2=h-tmrs.timePassed;perc=100-Math.ceil(dur2*100/h);if(opts.auto.progress){tmrs.progress=setInterval(function(){var a=getTime()-tmrs.startTime+tmrs.timePassed,b=Math.ceil(a*100/h);opts.auto.progress.updater.call(opts.auto.progress.bar[0],b)},opts.auto.progress.interval)}tmrs.auto=setTimeout(function(){if(opts.auto.progress){opts.auto.progress.updater.call(opts.auto.progress.bar[0],100)}if(opts.auto.onTimeoutEnd){opts.auto.onTimeoutEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),b)}else{$cfs.trigger(cf_e(b,conf),opts.auto)}},dur2);if(opts.auto.onTimeoutStart){opts.auto.onTimeoutStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(a){a.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d,e){a.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){a.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}var f=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(f>itms.total){a.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+" total, "+f+" needed): Not scrolling.")}var g=[b,c,d,e],h=["object","number/string","function","boolean"],i=cf_sortParams(g,h);b=i[0];c=i[1];d=i[2];e=i[3];var j=a.type.slice(conf.events.prefix.length);if(!is_object(b)){b={}}if(is_function(d)){b.onAfter=d}if(is_boolean(e)){b.queue=e}b=$.extend(true,{},opts[j],b);if(b.conditions&&!b.conditions.call($tt0,j)){a.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}if(!is_number(c)){if(opts.items.filter!="*"){c="visible"}else{var k=[c,b.items,opts[j].items];for(var i=0,l=k.length;i<l;i++){if(is_number(k[i])||k[i]=="page"||k[i]=="visible"){c=k[i];break}}}switch(c){case"page":a.stopImmediatePropagation();return $cfs.triggerHandler(cf_e(j+"Page",conf),[b,d]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){c=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]]);a.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(b.duration>0){if(crsl.isScrolling){if(b.queue){$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]])}a.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+j,conf),[b,c]);if(opts.synchronise){var m=opts.synchronise,n=[b,c];for(var o=0,l=m.length;o<l;o++){var p=j;if(!m[o][2]){p=p=="prev"?"next":"prev"}if(!m[o][1]){n[0]=m[o][0].triggerHandler("_cfs_triggerEvent",["configuration",p])}n[1]=c+m[o][3];m[o][0].trigger("_cfs_triggerEvent",["slide_"+p,n])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return a.stopImmediatePropagation()}}sz_resetMargin(d,opts);if(!is_number(c)){if(opts.items.visibleConf.variable){c=gn_getVisibleItemsPrev(d,opts,itms.total-1)}else if(opts.items.filter!="*"){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else{c=opts.items.visible}c=cf_getAdjust(c,opts,b.items,$tt0)}if(!opts.circular){if(itms.total-c<itms.first){c=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var f=gn_getVisibleItemsNext(d,opts,itms.total-c);if(opts.items.visible+c<=f&&c<itms.total){c++;f=gn_getVisibleItemsNext(d,opts,itms.total-c)}opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}else if(opts.items.filter!="*"){var f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(d,opts,true);if(c==0){a.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+c+" items backward.");itms.first+=c;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&b.onEnd){b.onEnd.call($tt0,"prev")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+c){$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(true).appendTo($cfs)}var d=$cfs.children(),g=gi_getOldItemsPrev(d,opts,c),h=gi_getNewItemsPrev(d,opts),i=d.eq(c-1),j=g.last(),k=h.last();sz_resetMargin(d,opts);var l=0,m=0;if(opts.align){var n=cf_getAlignPadding(h,opts);l=n[0];m=n[1]}var o=l<0?opts.padding[opts.d[3]]:0;var p=false,q=$();if(opts.items.visible<c){q=d.slice(opts.items.visibleConf.old,c);if(b.fx=="directscroll"){var r=opts.items[opts.d["width"]];p=q;i=k;sc_hideHiddenItems(p);opts.items[opts.d["width"]]="variable"}}var s=false,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(h,opts,true),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B={},C={},D=sc_getDuration(b,opts,c,t);switch(b.fx){case"cover":case"cover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visible),opts,"width");break}if(p){opts.items[opts.d["width"]]=r}sz_resetMargin(d,opts,true);if(m>=0){sz_resetMargin(j,opts,opts.padding[opts.d[1]])}if(l>=0){sz_resetMargin(i,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=m;opts.padding[opts.d[3]]=l}B[opts.d["left"]]=-(t-o);C[opts.d["left"]]=-(v-o);x[opts.d["left"]]=u[opts.d["width"]];var E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(true).appendTo($wrp);break}switch(b.fx){case"crossfade":case"uncover":case"uncover-fade":s.children().slice(0,c).remove();s.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":s.children().slice(opts.items.visible).remove();s.css(C);break}$cfs.css(B);scrl=sc_setScroll(D,b.easing);w[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){E=function(){$wrp.css(u)};F=function(){scrl.anims.push([$wrp,u])}}if(opts.usePadding){if(k.not(i).length){y[opts.d["marginRight"]]=i.data("_cfs_origCssMargin");if(l<0){i.css(y)}else{K=function(){i.css(y)};L=function(){scrl.anims.push([i,y])}}}switch(b.fx){case"cover":case"cover-fade":s.children().eq(c-1).css(y);break}if(k.not(j).length){z[opts.d["marginRight"]]=j.data("_cfs_origCssMargin");G=function(){j.css(z)};H=function(){scrl.anims.push([j,z])}}if(m>=0){A[opts.d["marginRight"]]=k.data("_cfs_origCssMargin")+opts.padding[opts.d[1]];I=function(){k.css(A)};J=function(){scrl.anims.push([k,A])}}}O=function(){$cfs.css(w)};var P=opts.items.visible+c-itms.total;N=function(){if(P>0){$cfs.children().slice(itms.total).remove();g=$($cfs.children().slice(itms.total-(opts.items.visible-P)).get().concat($cfs.children().slice(0,P).get()))}sc_showHiddenItems(p);if(opts.usePadding){var a=$cfs.children().eq(opts.items.visible+c-1);a.css(opts.d["marginRight"],a.data("_cfs_origCssMargin"))}};var Q=sc_mapCallbackArguments(g,q,h,c,"prev",D,u);M=function(){sc_afterScroll($cfs,s,b);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",Q,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",Q,clbk);switch(b.fx){case"none":$cfs.css(w);E();G();I();K();O();N();M();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E();G();I();K();O();N();scrl=sc_setScroll(D,b.easing);scrl.anims.push([$cfs,{opacity:1},M]);sc_startScroll(scrl)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([s,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},M]);F();G();I();K();O();N();break;case"cover":scrl.anims.push([s,w,function(){G();I();K();O();N();M()}]);F();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]);scrl.anims.push([s,w,function(){$cfs.css({opacity:1});G();I();K();O();N();M()}]);F();break;case"uncover":scrl.anims.push([s,x,M]);F();G();I();K();O();N();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([s,x,M]);F();G();I();K();O();N();break;default:scrl.anims.push([$cfs,w,function(){N();M()}]);F();H();J();L();break}sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,u]);return true});$cfs.bind(cf_e("slide_next",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return a.stopImmediatePropagation()}}sz_resetMargin(d,opts);if(!is_number(c)){if(opts.items.filter!="*"){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else{c=opts.items.visible}c=cf_getAdjust(c,opts,b.items,$tt0)}var f=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var g=gn_getVisibleItemsNext(d,opts,c),e=gn_getVisibleItemsPrev(d,opts,f-1)}else{var g=opts.items.visible,e=opts.items.visible}if(c+g>f){c=f-e}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var g=gn_getVisibleItemsNextTestCircular(d,opts,c,f);while(opts.items.visible-c>=g&&c<itms.total){c++;g=gn_getVisibleItemsNextTestCircular(d,opts,c,f)}opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}else if(opts.items.filter!="*"){var g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(d,opts,true);if(c==0){a.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+c+" items forward.");itms.first-=c;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&b.onEnd){b.onEnd.call($tt0,"next")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}if(itms.total<opts.items.visible+c){$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(true).appendTo($cfs)}var d=$cfs.children(),h=gi_getOldItemsNext(d,opts),i=gi_getNewItemsNext(d,opts,c),j=d.eq(c-1),k=h.last(),l=i.last();sz_resetMargin(d,opts);var m=0,n=0;if(opts.align){var o=cf_getAlignPadding(i,opts);m=o[0];n=o[1]}var p=false,q=$();if(opts.items.visibleConf.old<c){q=d.slice(opts.items.visibleConf.old,c);if(b.fx=="directscroll"){var r=opts.items[opts.d["width"]];p=q;j=k;sc_hideHiddenItems(p);opts.items[opts.d["width"]]="variable"}}var s=false,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(i,opts,true),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B=sc_getDuration(b,opts,c,t);switch(b.fx){case"uncover":case"uncover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visibleConf.old),opts,"width");break}if(p){opts.items[opts.d["width"]]=r}if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}sz_resetMargin(d,opts,true);sz_resetMargin(k,opts,opts.padding[opts.d[1]]);if(opts.align){opts.padding[opts.d[1]]=n;opts.padding[opts.d[3]]=m}A[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;var C=function(){},D=function(){},E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(true).appendTo($wrp);s.children().slice(opts.items.visibleConf.old).remove();break}switch(b.fx){case"crossfade":case"cover":case"cover-fade":s.css("zIndex",0);break}scrl=sc_setScroll(B,b.easing);w[opts.d["left"]]=-t;x[opts.d["left"]]=-v;if(m<0){w[opts.d["left"]]+=m}if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){C=function(){$wrp.css(u)};D=function(){scrl.anims.push([$wrp,u])}}if(opts.usePadding){var L=l.data("_cfs_origCssMargin");if(n>=0){L+=opts.padding[opts.d[1]]}l.css(opts.d["marginRight"],L);if(j.not(k).length){z[opts.d["marginRight"]]=k.data("_cfs_origCssMargin")}E=function(){k.css(z)};F=function(){scrl.anims.push([k,z])};var M=j.data("_cfs_origCssMargin");if(m>0){M+=opts.padding[opts.d[3]]}y[opts.d["marginRight"]]=M;G=function(){j.css(y)};H=function(){scrl.anims.push([j,y])}}K=function(){$cfs.css(A)};var N=opts.items.visible+c-itms.total;J=function(){if(N>0){$cfs.children().slice(itms.total).remove()}var a=$cfs.children().slice(0,c).appendTo($cfs).last();if(N>0){i=gi_getCurrentItems(d,opts)}sc_showHiddenItems(p);if(opts.usePadding){if(itms.total<opts.items.visible+c){var b=$cfs.children().eq(opts.items.visible-1);b.css(opts.d["marginRight"],b.data("_cfs_origCssMargin")+opts.padding[opts.d[3]])}a.css(opts.d["marginRight"],a.data("_cfs_origCssMargin"))}};var O=sc_mapCallbackArguments(h,q,i,c,"next",B,u);I=function(){sc_afterScroll($cfs,s,b);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",O,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",O,clbk);switch(b.fx){case"none":$cfs.css(w);C();E();G();K();J();I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){C();E();G();K();J();scrl=sc_setScroll(B,b.easing);scrl.anims.push([$cfs,{opacity:1},I]);sc_startScroll(scrl)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([s,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},I]);D();E();G();K();J();break;case"cover":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([$cfs,A,I]);D();E();G();J();break;case"cover-fade":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([s,{opacity:0}]);scrl.anims.push([$cfs,A,I]);D();E();G();J();break;case"uncover":scrl.anims.push([s,x,I]);D();E();G();K();J();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([s,x,I]);D();E();G();K();J();break;default:scrl.anims.push([$cfs,w,function(){K();J();I()}]);D();F();H();break}sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,u]);return true});$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g],i=["string/number/object","number","boolean","object","string","function"],j=cf_sortParams(h,i);e=j[3];f=j[4];g=j[5];b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs);if(b==0){return false}if(!is_object(e)){e=false}if(crsl.isScrolling){if(!is_object(e)||e.duration>0){return false}}if(f!="prev"&&f!="next"){if(opts.circular){f=b<=itms.total/2?"next":"prev"}else{f=itms.first==0||itms.first>b?"next":"prev"}}if(f=="prev"){b=itms.total-b}$cfs.trigger(cf_e(f,conf),[e,b,g]);return true});$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])});$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])});$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation();if(!is_number(b)){b=$cfs.triggerHandler(cf_e("currentPage",conf))}var f=opts.pagination.items||opts.items.visible,g=Math.ceil(itms.total/f)-1;if(b<0){b=g}if(b>g){b=0}return $cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,true,c,d,e])});$cfs.bind(cf_e("jumpToStart",conf),function(a,b){a.stopPropagation();if(b){b=gn_getItemIndex(b,0,true,itms,$cfs)}else{b=0}b+=itms.first;if(b!=0){if(items.total>0){while(b>itms.total){b-=itms.total}}$cfs.prepend($cfs.children().slice(b,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(a,b){a.stopPropagation();if(b){b=cf_getSynchArr(b)}else if(opts.synchronise){b=opts.synchronise}else{return debug(conf,"No carousel to synchronise.")}var c=$cfs.triggerHandler(cf_e("currentPosition",conf)),d=true;for(var e=0,f=b.length;e<f;e++){if(!b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],true])){d=false}}return d});$cfs.bind(cf_e("queue",conf),function(a,b,c){a.stopPropagation();if(is_function(b)){b.call($tt0,queu)}else if(is_array(b)){queu=b}else if(!is_undefined(b)){queu.push([b,c])}return queu});$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();var f=[b,c,d,e],g=["string/object","string/number/object","boolean","number"],h=cf_sortParams(f,g);b=h[0];c=h[1];d=h[2];e=h[3];if(is_object(b)&&!is_jquery(b)){b=$(b)}else if(is_string(b)){b=$(b)}if(!is_jquery(b)||b.length==0){return debug(conf,"Not a valid object.")}if(is_undefined(c)){c="end"}sz_storeMargin(b,opts);sz_storeSizes(b,opts);var i=c,j="before";if(c=="end"){if(d){if(itms.first==0){c=itms.total-1;j="after"}else{c=itms.first;itms.first+=b.length}if(c<0){c=0}}else{c=itms.total-1;j="after"}}else{c=gn_getItemIndex(c,e,d,itms,$cfs)}if(i!="end"&&!d){if(c<itms.first){itms.first+=b.length}}if(itms.first>=itms.total){itms.first-=itms.total}var k=$cfs.children().eq(c);if(k.length){k[j](b)}else{$cfs.append(b)}itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf));$cfs.trigger(cf_e("linkAnchors",conf));return true});$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e=[b,c,d],f=["string/number/object","boolean","number"],g=cf_sortParams(e,f);b=g[0];c=g[1];d=g[2];var h=false;if(b instanceof $&&b.length>1){i=$();b.each(function(a,b){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);if(e)i=i.add(e)});return i}if(is_undefined(b)||b=="end"){i=$cfs.children().last()}else{b=gn_getItemIndex(b,d,c,itms,$cfs);var i=$cfs.children().eq(b);if(i.length){if(b<itms.first)itms.first-=i.length}}if(i&&i.length){i.detach();itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf))}return i});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);if(is_array(b)){clbk[c]=b}if(is_function(b)){clbk[c].push(b)}return clbk[c]});$cfs.bind(cf_e("currentPosition",conf),function(a,b){a.stopPropagation();if(itms.first==0){var c=0}else{var c=itms.total-itms.first}if(is_function(b)){b.call($tt0,c)}return c});$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var c=opts.pagination.items||opts.items.visible,d=Math.ceil(itms.total/c-1),e;if(itms.first==0){e=0}else if(itms.first<itms.total%c){e=0}else if(itms.first==c&&!opts.circular){e=d}else{e=Math.round((itms.total-itms.first)/c)}if(e<0){e=0}if(e>d){e=d}if(is_function(b)){b.call($tt0,e)}return e});$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();var c=gi_getCurrentItems($cfs.children(),opts);if(is_function(b)){b.call($tt0,c)}return c});$cfs.bind(cf_e("slice",conf),function(a,b,c,d){a.stopPropagation();if(itms.total==0){return false}var e=[b,c,d],f=["number","number","function"],g=cf_sortParams(e,f);b=is_number(g[0])?g[0]:0;c=is_number(g[1])?g[1]:itms.total;d=g[2];b+=itms.first;c+=itms.first;if(items.total>0){while(b>itms.total){b-=itms.total}while(c>itms.total){c-=itms.total}while(b<0){b+=itms.total}while(c<0){c+=itms.total}}var h=$cfs.children(),i;if(c>b){i=h.slice(b,c)}else{i=$(h.slice(b,itms.total).get().concat(h.slice(0,c).get()))}if(is_function(d)){d.call($tt0,i)}return i});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length),d=crsl[c];if(is_function(b)){b.call($tt0,d)}return d});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(is_function(a)){a.call($tt0,opts)}else if(is_object(a)){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false)reInit=true;else opts=$.extend(true,{},opts,a)}else if(!is_undefined(a)){if(is_function(b)){var val=eval("opts."+a);if(is_undefined(val)){val=""}b.call($tt0,val)}else if(!is_undefined(b)){if(typeof c!=="boolean")c=true;eval("opts_orig."+a+" = b");if(c!==false)reInit=true;else eval("opts."+a+" = b")}else{return eval("opts."+a)}}if(reInit){sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);$cfs._cfs_bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(a,b,c){a.stopPropagation();if(is_undefined(b)){b=$("body")}else if(is_string(b)){b=$(b)}if(!is_jquery(b)||b.length==0){return debug(conf,"Not a valid object.")}if(!is_string(c)){c="a.caroufredsel"}b.find(c).each(function(){var a=this.hash||"";if(a.length>0&&$cfs.children().index($(a))!=-1){$(this).unbind("click").click(function(b){b.preventDefault();$cfs.trigger(cf_e("slideTo",conf),a)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(a,b,c){a.stopPropagation();if(!opts.pagination.container){return}var d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d);if(b){if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var a=0;a<e;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(b[0],a+1))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[a*d,-opts.pagination.deviation,true,opts.pagination])})})})}var f=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;if(f>=e){f=0}if(f<0){f=e-1}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(f).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(a){var b=opts.items.visible,c=$cfs.children(),d=ms_getParentSize($wrp,opts,"width");itms.total=c.length;opts.maxDimension=ms_getMaxDimension(opts,d);if(crsl.primarySizePercentage){opts[opts.d["width"]]=ms_getPercentage(d,crsl.primarySizePercentage)}if(opts.responsive){opts.items.width=opts.items.sizesConf.width;opts.items.height=opts.items.sizesConf.height;opts=in_getResponsiveValues(opts,c,d);b=opts.items.visible;sz_setResponsiveSizes(opts,c)}else if(opts.items.visibleConf.variable){b=gn_getVisibleItemsNext(c,opts,0)}else if(opts.items.filter!="*"){b=gn_getVisibleItemsNextFilter(c,opts,0)}if(!opts.circular&&itms.first!=0&&b>itms.first){if(opts.items.visibleConf.variable){var e=gn_getVisibleItemsPrev(c,opts,itms.first)-itms.first}else if(opts.items.filter!="*"){var e=gn_getVisibleItemsPrevFilter(c,opts,itms.first)-itms.first}else{var e=opts.items.visible-itms.first}debug(conf,"Preventing non-circular: sliding "+e+" items backward.");$cfs.trigger(cf_e("prev",conf),e)}opts.items.visible=cf_getItemsAdjust(b,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts=in_getAlignPadding(opts,c);var f=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,f]);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);return f});$cfs.bind(cf_e("destroy",conf),function(a,b){a.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("_cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(b){$cfs.trigger(cf_e("jumpToStart",conf))}sz_resetMargin($cfs.children(),opts);if(opts.responsive){$cfs.children().each(function(){$(this).css($(this).data("_cfs_origCssSizes"))})}$cfs.css($cfs.data("_cfs_origCss"));$cfs._cfs_unbind_events();$cfs._cfs_unbind_buttons();$wrp.replaceWith($cfs);return true});$cfs.bind(cf_e("debug",conf),function(a){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play){debug(conf,"Number of items scrolled automatically: "+opts.auto.items)}if(opts.prev.button){debug(conf,"Number of items scrolled backward: "+opts.prev.items)}if(opts.next.button){debug(conf,"Number of items scrolled forward: "+opts.next.items)}return conf.debug});$cfs.bind("_cfs_triggerEvent",function(a,b,c){a.stopPropagation();return $cfs.triggerHandler(cf_e(b,conf),c)})};$cfs._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};$cfs._cfs_bind_buttons=function(){$cfs._cfs_unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(a){a.preventDefault();var b=false,c=null;if(crsl.isPaused){b="play"}else if(opts.auto.pauseOnEvent){b="pause";c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}if(b){$cfs.trigger(cf_e(b,conf),c)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(a){a.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(a){a.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(a){var b=a.keyCode;if(b==opts.next.key){a.preventDefault();$cfs.trigger(cf_e("next",conf))}if(b==opts.prev.key){a.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(a){var b=a.keyCode;if(b>=49&&b<58){b=(b-49)*opts.items.visible;if(b<=itms.total){a.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[b,0,true,opts.pagination])}}})}if(opts.prev.wipe||opts.next.wipe){deprecated("the touchwipe-plugin","the touchSwipe-plugin");if($.fn.touchwipe){var b=opts.prev.wipe?function(){$cfs.trigger(cf_e("prev",conf))}:null,c=opts.next.wipe?function(){$cfs.trigger(cf_e("next",conf))}:null;if(c||c){if(!crsl.touchwipe){crsl.touchwipe=true;var d={min_move_x:30,min_move_y:30,preventDefaultEvents:true};switch(opts.direction){case"up":case"down":d.wipeUp=b;d.wipeDown=c;break;default:d.wipeLeft=c;d.wipeRight=b}$wrp.touchwipe(d)}}}}if($.fn.swipe){var e="ontouchstart"in window;if(e&&opts.swipe.onTouch||!e&&opts.swipe.onMouse){var f=$.extend(true,{},opts.prev,opts.swipe),g=$.extend(true,{},opts.next,opts.swipe),h=function(){$cfs.trigger(cf_e("prev",conf),[f])},i=function(){$cfs.trigger(cf_e("next",conf),[g])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=i;opts.swipe.options.swipeDown=h;break;default:opts.swipe.options.swipeLeft=i;opts.swipe.options.swipeRight=h}if(crsl.swipe){$cfs.swipe("destroy")}$wrp.swipe(opts.swipe.options);$wrp.css("cursor","move");crsl.swipe=true}}if($.fn.mousewheel){if(opts.prev.mousewheel){deprecated("The prev.mousewheel option","the mousewheel configuration object");opts.prev.mousewheel=null;opts.mousewheel={items:bt_mousesheelNumber(opts.prev.mousewheel)}}if(opts.next.mousewheel){deprecated("The next.mousewheel option","the mousewheel configuration object");opts.next.mousewheel=null;opts.mousewheel={items:bt_mousesheelNumber(opts.next.mousewheel)}}if(opts.mousewheel){var j=$.extend(true,{},opts.prev,opts.mousewheel),k=$.extend(true,{},opts.next,opts.mousewheel);if(crsl.mousewheel){$wrp.unbind(cf_e("mousewheel",conf,false))}$wrp.bind(cf_e("mousewheel",conf,false),function(a,b){a.preventDefault();if(b>0){$cfs.trigger(cf_e("prev",conf),[j])}else{$cfs.trigger(cf_e("next",conf),[k])}});crsl.mousewheel=true}}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var l=$(window),m=0,n=0;l.bind(cf_e("resize",conf,false,true,true),function(a){var b=l.width(),c=l.height();if(b!=m||c!=n){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs.trigger(cf_e("updateSizes",conf));m=b;n=c}})}};$cfs._cfs_unbind_buttons=function(){var a=cf_e("",conf),b=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(b);if(opts.auto.button){opts.auto.button.unbind(b)}if(opts.prev.button){opts.prev.button.unbind(b)}if(opts.next.button){opts.next.button.unbind(b)}if(opts.pagination.container){opts.pagination.container.unbind(b);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}if(crsl.swipe){$cfs.swipe("destroy");$wrp.css("cursor","default");crsl.swipe=false}if(crsl.mousewheel){crsl.mousewheel=false}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};if(is_boolean(configs)){configs={debug:configs}}var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheel:false,swipe:false},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(true,{},options),$wrp=$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;$cfs._cfs_init(opts_orig,true,starting_position);$cfs._cfs_build();$cfs._cfs_bind_events();$cfs._cfs_bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else if(s==="random"){s=Math.floor(Math.random()*itms.total)}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm})}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));if(conf.debug){$cfs.trigger(cf_e("debug",conf))}return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(a){return'<a href="#"><span>'+a+"</span></a>"};$.fn.carouFredSel.progressbarUpdater=function(a){$(this).css("width",a+"%")};$.fn.carouFredSel.cookie={get:function(a){a+="=";var b=document.cookie.split(";");for(var c=0,d=b.length;c<d;c++){var e=b[c];while(e.charAt(0)==" "){e=e.slice(1)}if(e.indexOf(a)==0){return e.slice(a.length)}}return 0},set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},remove:function(a){$.fn.carouFredSel.cookie.set(a,"",-1)}};$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}})})(jQuery)

/*
 == malihu jquery custom scrollbars plugin ==
 version: 2.1
 author: malihu (http://manos.malihu.gr)
 plugin home: http://manos.malihu.gr/jquery-custom-content-scroller
 */
(function(b){var a={init:function(c){var e={set_width:false,set_height:false,horizontalScroll:false,scrollInertia:550,scrollEasing:"easeOutCirc",mouseWheel:"auto",autoDraggerLength:true,scrollButtons:{enable:false,scrollType:"continuous",scrollSpeed:20,scrollAmount:40},advanced:{updateOnBrowserResize:true,updateOnContentResize:false,autoExpandHorizontalScroll:false},callbacks:{onScroll:function(){},onTotalScroll:function(){},onTotalScrollOffset:0}},c=b.extend(true,e,c);b(document).data("mCS-is-touch-device",false);if(d()){b(document).data("mCS-is-touch-device",true)}function d(){return !!("ontouchstart" in window)?1:0}return this.each(function(){var m=b(this);if(c.set_width){m.css("width",c.set_width)}if(c.set_height){m.css("height",c.set_height)}if(!b(document).data("mCustomScrollbar-index")){b(document).data("mCustomScrollbar-index","1")}else{var s=parseInt(b(document).data("mCustomScrollbar-index"));b(document).data("mCustomScrollbar-index",s+1)}m.wrapInner("<div class='mCustomScrollBox' id='mCSB_"+b(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+b(document).data("mCustomScrollbar-index"));var g=m.children(".mCustomScrollBox");if(c.horizontalScroll){g.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var k=g.children(".mCSB_h_wrapper");k.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:k.children().outerWidth(),position:"relative"}).unwrap()}else{g.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />")}var o=g.children(".mCSB_container");if(!b(document).data("mCS-is-touch-device")){o.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer' style='position:relative;'><div class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var l=g.children(".mCSB_scrollTools"),h=l.children(".mCSB_draggerContainer"),q=h.children(".mCSB_dragger");if(c.horizontalScroll){q.data("minDraggerWidth",q.width())}else{q.data("minDraggerHeight",q.height())}if(c.scrollButtons.enable){if(c.horizontalScroll){l.prepend("<a class='mCSB_buttonLeft' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonRight' style='display:block; position:relative;'></a>")}else{l.prepend("<a class='mCSB_buttonUp' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonDown' style='display:block; position:relative;'></a>")}}g.bind("scroll",function(){g.scrollTop(0).scrollLeft(0)});m.data({horizontalScroll:c.horizontalScroll,scrollInertia:c.scrollInertia,scrollEasing:c.scrollEasing,mouseWheel:c.mouseWheel,autoDraggerLength:c.autoDraggerLength,"scrollButtons-enable":c.scrollButtons.enable,"scrollButtons-scrollType":c.scrollButtons.scrollType,"scrollButtons-scrollSpeed":c.scrollButtons.scrollSpeed,"scrollButtons-scrollAmount":c.scrollButtons.scrollAmount,autoExpandHorizontalScroll:c.advanced.autoExpandHorizontalScroll,"onScroll-Callback":c.callbacks.onScroll,"onTotalScroll-Callback":c.callbacks.onTotalScroll,"onTotalScroll-Offset":c.callbacks.onTotalScrollOffset}).mCustomScrollbar("update");if(c.advanced.updateOnBrowserResize){var i;b(window).resize(function(){if(i){clearTimeout(i)}i=setTimeout(function(){m.mCustomScrollbar("update")},150)})}}else{var f=navigator.userAgent;if(f.indexOf("Android")!=-1){var r=parseFloat(f.slice(f.indexOf("Android")+8));if(r<3){j("mCSB_"+b(document).data("mCustomScrollbar-index"))}else{g.css({overflow:"auto","-webkit-overflow-scrolling":"touch"})}}else{g.css({overflow:"auto","-webkit-overflow-scrolling":"touch"})}o.addClass("mCS_no_scrollbar mCS_touch");m.data({horizontalScroll:c.horizontalScroll,scrollInertia:c.scrollInertia,scrollEasing:c.scrollEasing,autoExpandHorizontalScroll:c.advanced.autoExpandHorizontalScroll,"onScroll-Callback":c.callbacks.onScroll,"onTotalScroll-Callback":c.callbacks.onTotalScroll,"onTotalScroll-Offset":c.callbacks.onTotalScrollOffset});g.scroll(function(){m.mCustomScrollbar("callbacks",g,o)});function j(w){var t=document.getElementById(w),u=0,v=0;document.getElementById(w).addEventListener("touchstart",function(x){u=this.scrollTop+x.touches[0].pageY;v=this.scrollLeft+x.touches[0].pageX},false);document.getElementById(w).addEventListener("touchmove",function(x){if((this.scrollTop<this.scrollHeight-this.offsetHeight&&this.scrollTop+x.touches[0].pageY<u-5)||(this.scrollTop!=0&&this.scrollTop+x.touches[0].pageY>u+5)){x.preventDefault()}if((this.scrollLeft<this.scrollWidth-this.offsetWidth&&this.scrollLeft+x.touches[0].pageX<v-5)||(this.scrollLeft!=0&&this.scrollLeft+x.touches[0].pageX>v+5)){x.preventDefault()}this.scrollTop=u-x.touches[0].pageY;this.scrollLeft=v-x.touches[0].pageX},false)}}if(c.advanced.updateOnContentResize){var p;if(c.horizontalScroll){var n=o.outerWidth();if(d()){g.css({"-webkit-overflow-scrolling":"auto"})}}else{var n=o.outerHeight()}p=setInterval(function(){if(c.horizontalScroll){if(c.advanced.autoExpandHorizontalScroll){o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap()}var t=o.outerWidth()}else{var t=o.outerHeight()}if(t!=n){m.mCustomScrollbar("update");n=t}},300)}})},update:function(){var l=b(this),i=l.children(".mCustomScrollBox"),o=i.children(".mCSB_container");if(!b(document).data("mCS-is-touch-device")){o.removeClass("mCS_no_scrollbar")}var w=i.children(".mCSB_scrollTools"),m=w.children(".mCSB_draggerContainer"),k=m.children(".mCSB_dragger");if(l.data("horizontalScroll")){var y=w.children(".mCSB_buttonLeft"),r=w.children(".mCSB_buttonRight"),d=i.width();if(l.data("autoExpandHorizontalScroll")){o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap()}var x=o.outerWidth()}else{var u=w.children(".mCSB_buttonUp"),e=w.children(".mCSB_buttonDown"),p=i.height(),g=o.outerHeight()}if(g>p&&!l.data("horizontalScroll")&&!b(document).data("mCS-is-touch-device")){w.css("display","block");var q=m.height();if(l.data("autoDraggerLength")){var s=Math.round(p/g*q),j=k.data("minDraggerHeight");if(s<=j){k.css({height:j})}else{if(s>=q-10){var n=q-10;k.css({height:n})}else{k.css({height:s})}}k.children(".mCSB_dragger_bar").css({"line-height":k.height()+"px"})}var z=k.height(),v=(g-p)/(q-z);l.data("scrollAmount",v);l.mCustomScrollbar("scrolling",i,o,m,k,u,e,y,r);var B=Math.abs(Math.round(o.position().top));l.mCustomScrollbar("scrollTo",B,{callback:false})}else{if(x>d&&l.data("horizontalScroll")&&!b(document).data("mCS-is-touch-device")){w.css("display","block");var f=m.width();if(l.data("autoDraggerLength")){var h=Math.round(d/x*f),A=k.data("minDraggerWidth");if(h<=A){k.css({width:A})}else{if(h>=f-10){var c=f-10;k.css({width:c})}else{k.css({width:h})}}}var t=k.width(),v=(x-d)/(f-t);l.data("scrollAmount",v);l.mCustomScrollbar("scrolling",i,o,m,k,u,e,y,r);var B=Math.abs(Math.round(o.position().left));l.mCustomScrollbar("scrollTo",B,{callback:false})}else{i.unbind("mousewheel");i.unbind("focusin");if(l.data("horizontalScroll")){k.add(o).css("left",0)}else{k.add(o).css("top",0)}w.css("display","none");o.addClass("mCS_no_scrollbar")}}},scrolling:function(h,p,m,j,v,c,y,s){var l=b(this);if(!j.hasClass("ui-draggable")){if(l.data("horizontalScroll")){var i="x"}else{var i="y"}j.draggable({axis:i,containment:"parent",drag:function(B,C){l.mCustomScrollbar("scroll");j.addClass("mCSB_dragger_onDrag")},stop:function(B,C){j.removeClass("mCSB_dragger_onDrag")}})}m.unbind("click").bind("click",function(D){if(l.data("horizontalScroll")){var B=(D.pageX-m.offset().left);if(B<j.position().left||B>(j.position().left+j.width())){var C=B;if(C>=m.width()-j.width()){C=m.width()-j.width()}j.css("left",C);l.mCustomScrollbar("scroll")}}else{var B=(D.pageY-m.offset().top);if(B<j.position().top||B>(j.position().top+j.height())){var C=B;if(C>=m.height()-j.height()){C=m.height()-j.height()}j.css("top",C);l.mCustomScrollbar("scroll")}}});if(l.data("mouseWheel")){var t=l.data("mouseWheel");if(l.data("mouseWheel")==="auto"){t=8;var n=navigator.userAgent;if(n.indexOf("Mac")!=-1&&n.indexOf("Safari")!=-1&&n.indexOf("AppleWebKit")!=-1&&n.indexOf("Chrome")==-1){t=1}}h.unbind("mousewheel").bind("mousewheel",function(E,J){E.preventDefault();var I=Math.abs(J*t);if(l.data("horizontalScroll")){var D=j.position().left-(J*I);j.css("left",D);if(j.position().left<0){j.css("left",0)}var H=m.width(),G=j.width();if(j.position().left>H-G){j.css("left",H-G)}}else{var B=j.position().top-(J*I);j.css("top",B);if(j.position().top<0){j.css("top",0)}var F=m.height(),C=j.height();if(j.position().top>F-C){j.css("top",F-C)}}l.mCustomScrollbar("scroll")})}if(l.data("scrollButtons-enable")){if(l.data("scrollButtons-scrollType")==="pixels"){var A;if(b.browser.msie&&parseInt(b.browser.version)<9){l.data("scrollInertia",0)}if(l.data("horizontalScroll")){s.add(y).unbind("click mousedown mouseup mouseout",k,g);s.bind("click",function(B){B.preventDefault();if(!p.is(":animated")){A=Math.abs(p.position().left)+l.data("scrollButtons-scrollAmount");l.mCustomScrollbar("scrollTo",A)}});y.bind("click",function(B){B.preventDefault();if(!p.is(":animated")){A=Math.abs(p.position().left)-l.data("scrollButtons-scrollAmount");if(p.position().left>=-l.data("scrollButtons-scrollAmount")){A="left"}l.mCustomScrollbar("scrollTo",A)}})}else{c.add(v).unbind("click mousedown mouseup mouseout",r,f);c.bind("click",function(B){B.preventDefault();if(!p.is(":animated")){A=Math.abs(p.position().top)+l.data("scrollButtons-scrollAmount");l.mCustomScrollbar("scrollTo",A)}});v.bind("click",function(B){B.preventDefault();if(!p.is(":animated")){A=Math.abs(p.position().top)-l.data("scrollButtons-scrollAmount");if(p.position().top>=-l.data("scrollButtons-scrollAmount")){A="top"}l.mCustomScrollbar("scrollTo",A)}})}}else{if(l.data("horizontalScroll")){s.add(y).unbind("click mousedown mouseup mouseout",k,g);var x,e=m.width(),u=j.width();s.bind("mousedown",function(C){C.preventDefault();var B=e-u;x=setInterval(function(){var D=Math.abs(j.position().left-B)*(100/l.data("scrollButtons-scrollSpeed"));j.stop().animate({left:B},D,"linear");l.mCustomScrollbar("scroll")},20)});var k=function(B){B.preventDefault();clearInterval(x);j.stop()};s.bind("mouseup mouseout",k);var d;y.bind("mousedown",function(C){C.preventDefault();var B=0;d=setInterval(function(){var D=Math.abs(j.position().left-B)*(100/l.data("scrollButtons-scrollSpeed"));j.stop().animate({left:B},D,"linear");l.mCustomScrollbar("scroll")},20)});var g=function(B){B.preventDefault();clearInterval(d);j.stop()};y.bind("mouseup mouseout",g)}else{c.add(v).unbind("click mousedown mouseup mouseout",r,f);var o,q=m.height(),z=j.height();c.bind("mousedown",function(C){C.preventDefault();var B=q-z;o=setInterval(function(){var D=Math.abs(j.position().top-B)*(100/l.data("scrollButtons-scrollSpeed"));j.stop().animate({top:B},D,"linear");l.mCustomScrollbar("scroll")},20)});var r=function(B){B.preventDefault();clearInterval(o);j.stop()};c.bind("mouseup mouseout",r);var w;v.bind("mousedown",function(C){C.preventDefault();var B=0;w=setInterval(function(){var D=Math.abs(j.position().top-B)*(100/l.data("scrollButtons-scrollSpeed"));j.stop().animate({top:B},D,"linear");l.mCustomScrollbar("scroll")},20)});var f=function(B){B.preventDefault();clearInterval(w);j.stop()};v.bind("mouseup mouseout",f)}}}h.unbind("focusin").bind("focusin",function(){h.scrollTop(0).scrollLeft(0);var C=b(document.activeElement);if(C.is("input,textarea,select,button,a[tabindex],area,object")){if(l.data("horizontalScroll")){var J=p.position().left,G=C.position().left,E=h.width(),H=C.outerWidth();if(J+G>=0&&J+G<=E-H){}else{var K=G/l.data("scrollAmount");if(K>=m.width()-j.width()){K=m.width()-j.width()}j.css("left",K);l.mCustomScrollbar("scroll")}}else{var I=p.position().top,F=C.position().top,B=h.height(),D=C.outerHeight();if(I+F>=0&&I+F<=B-D){}else{var K=F/l.data("scrollAmount");if(K>=m.height()-j.height()){K=m.height()-j.height()}j.css("top",K);l.mCustomScrollbar("scroll")}}}})},scroll:function(h){var k=b(this),p=k.find(".mCSB_dragger"),n=k.find(".mCSB_container"),e=k.find(".mCustomScrollBox");if(k.data("horizontalScroll")){var g=p.position().left,m=-g*k.data("scrollAmount"),o=n.position().left,d=Math.round(o-m)}else{var f=p.position().top,j=-f*k.data("scrollAmount"),l=n.position().top,c=Math.round(l-j)}if(b.browser.webkit){var q=(window.outerWidth-8)/window.innerWidth,i=(q<0.98||q>1.02)}if(k.data("scrollInertia")===0||i){if(k.data("horizontalScroll")){n.css("left",m)}else{n.css("top",j)}if(!h){k.mCustomScrollbar("callbacks",e,n)}}else{if(k.data("horizontalScroll")){n.stop().animate({left:"-="+d},k.data("scrollInertia"),k.data("scrollEasing"),function(){if(!h){k.mCustomScrollbar("callbacks",e,n)}})}else{n.stop().animate({top:"-="+c},k.data("scrollInertia"),k.data("scrollEasing"),function(){if(!h){k.mCustomScrollbar("callbacks",e,n)}})}}},scrollTo:function(g,m){var f={moveDragger:false,callback:true},m=b.extend(f,m),i=b(this),c,d=i.find(".mCustomScrollBox"),j=d.children(".mCSB_container");if(!b(document).data("mCS-is-touch-device")){var e=i.find(".mCSB_draggerContainer"),k=e.children(".mCSB_dragger")}var l;if(g){if(typeof(g)==="number"){if(m.moveDragger){c=g}else{l=g;c=Math.round(l/i.data("scrollAmount"))}}else{if(typeof(g)==="string"){var h;if(g==="top"){h=0}else{if(g==="bottom"&&!i.data("horizontalScroll")){h=j.outerHeight()-d.height()}else{if(g==="left"){h=0}else{if(g==="right"&&i.data("horizontalScroll")){h=j.outerWidth()-d.width()}else{if(g==="first"){h=i.find(".mCSB_container").find(":first")}else{if(g==="last"){h=i.find(".mCSB_container").find(":last")}else{h=i.find(g)}}}}}}if(h.length===1){if(i.data("horizontalScroll")){l=h.position().left}else{l=h.position().top}if(b(document).data("mCS-is-touch-device")){c=l}else{c=Math.ceil(l/i.data("scrollAmount"))}}else{c=h}}}if(b(document).data("mCS-is-touch-device")){if(i.data("horizontalScroll")){d.stop().animate({scrollLeft:c},i.data("scrollInertia"),i.data("scrollEasing"),function(){if(m.callback){i.mCustomScrollbar("callbacks",d,j)}})}else{d.stop().animate({scrollTop:c},i.data("scrollInertia"),i.data("scrollEasing"),function(){if(m.callback){i.mCustomScrollbar("callbacks",d,j)}})}}else{if(i.data("horizontalScroll")){if(c>=e.width()-k.width()){c=e.width()-k.width()}k.css("left",c)}else{if(c>=e.height()-k.height()){c=e.height()-k.height()}k.css("top",c)}if(m.callback){i.mCustomScrollbar("scroll")}else{i.mCustomScrollbar("scroll",true)}}}},callbacks:function(e,h){var i=b(this);if(!b(document).data("mCS-is-touch-device")){if(i.data("horizontalScroll")){var g=Math.round(h.position().left);if(g<0&&g<=e.width()-h.outerWidth()+i.data("onTotalScroll-Offset")){i.data("onTotalScroll-Callback").call()}else{i.data("onScroll-Callback").call()}}else{var f=Math.round(h.position().top);if(f<0&&f<=e.height()-h.outerHeight()+i.data("onTotalScroll-Offset")){i.data("onTotalScroll-Callback").call()}else{i.data("onScroll-Callback").call()}}}else{if(i.data("horizontalScroll")){var d=Math.round(e.scrollLeft());if(d>0&&d>=h.outerWidth()-i.width()-i.data("onTotalScroll-Offset")){i.data("onTotalScroll-Callback").call()}else{i.data("onScroll-Callback").call()}}else{var c=Math.round(e.scrollTop());if(c>0&&c>=h.outerHeight()-i.height()-i.data("onTotalScroll-Offset")){i.data("onTotalScroll-Callback").call()}else{i.data("onScroll-Callback").call()}}}}};b.fn.mCustomScrollbar=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist")}}}})(jQuery);
