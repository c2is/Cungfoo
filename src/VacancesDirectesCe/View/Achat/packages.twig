{% extends "base.twig" %}

{% block title %}Packages{% endblock %}

{% block headjs %}{{ parent() }}
,{search: templatePath + "js/vacancesdirectes/search.js"}
{% endblock %}

{% block content %}
    <!--<div id="linearSwitcher">
        <p>
            <label>Rechercher de :</label>
            <input type = "radio"
                   name = "linearType"
                   id = "classicLinear"
                   value = "classic"
                   checked = "checked" />
            <label for = "classicLinear">linéaires classiques</label>
            <input type = "radio"
                   name = "linearType"
                   id = "miniLinear"
                   value = "mini" />
            <label for = "miniLinear">linéaires basse saison</label>
        </p>
    </div>-->

    <div id="searchContainer" class="column clearboth">
        <div id="searchPrincipal" class="searchBox classic">
            <form id="searchForm" action="{{ path(app.request.get('_route')) }}" method="post">
                <fieldset>
                    <legend>Recherche de linéaires classiques</legend>

                    <pre>{{ form_errors(achatLineaireForm) }}</pre>

                    <ol>
                        <li>
                            <div class="selectContainer clear">
                                {{ form_widget(achatLineaireForm.pays) }}
                                {{ form_widget(achatLineaireForm.region) }}
                            </div>
                        </li>
                        <li>
                            <div class="selectContainer clear">
                                {{ form_widget(achatLineaireForm.campings, { 'attr': {'class': 'sMultSelect'}}) }}
                            </div>
                        </li>
                        <li>
                            <label>Du</label>{{ form_widget(achatLineaireForm.dateDebut, { 'attr': {'class': 'date'}}) }}
                            <label>Au</label>{{ form_widget(achatLineaireForm.dateFin, { 'attr': {'class': 'date'}}) }}
                            <button type="submit" class="bt fushia">Rechercher</button>
                        </li>
                        <li>
                            <div id="widget">
                                <div id="widgetField" class="clear">
                                    <input type="text" name="datepicker" id="widgetInput" readonly="readonly" /><span class="date"></span>
                                </div>
                                <div id="widgetCalendar">
                                </div>
                            </div>
                        </li>
                    </ol>
                </fieldset>
                {{ form_rest(achatLineaireForm) }}

                <script type="text/javascript">
                    var getRegionsByPays    = "{{ path('search_get_regions_by_pays') }}";
                    var getCampingsByPays   = "{{ path('search_get_campings_by_pays') }}";
                    var getCampingsByRegion = "{{ path('search_get_campings_by_region') }}";
                </script>
            </form>
        </div>


        <div class="column clearboth" id="discoverContainer">

            <iframe id="frameResalys" src="{{ path('resalys_wrapper', {
                webuser: 'web_ce_achat_fr',
                display: 'default',
                tokens: 'ignore_token',
                session: app.session.get('resalys_user').session,
                template: 'search_product_results',
                actions: 'updateProductCriterias;getProductProposals',
                criterias_object_name: 'search_form',
                product_CMSCriteria_ALL: 'ALL',
                search_page: '1',
                product_CMSCriteria_PHS: '',
                product_start_date: "now" | date("d/m/Y"),
            }) }}" width="960px" height="700px"></iframe>
        </div>
{% endblock %}
